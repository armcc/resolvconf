                     MAINTAINER NOTES
                     for resolvconf

TODO
----
* For Jessie (which has /run, which was introduced in Wheezy), simplify
  the maintainer scripts by stripping out code that is only there to deal
  with the possibility that /run is not yet available at preinst time.

* In Jessie (which allows an option to occur multiple times in a stanza)
  introduce a "dns-nameserver" option. Initially allow exactly one address
  as argument. This allows us to enhance the syntax later if necessary
  through addition, for example, of modifier keywords after the address.

* File bug reports against all packages containing suppliers of nameserver
  information, asking each to add a resolvconf packaging-event hook script.

  To be submitted:
  * (nameservers:) pdns-recursor, totd
    + Easy to implement: just call initscript or add 127.0.0.1.
  * (DHCP clients:) isc-dhcp-client, dhcpcd, pump, udhcpc
    + Probably easiest and best to trigger DHCP lease renewals.

  Already submitted:
  * #628003, #641717 dnsmasq [both DONE]
  * #628846 pdnsd
  * #641714 bind9
  * #639803 network-manager

* Investigate whether or not we still have to restart nscd now that
  resolver clients are asked to re-initialize their resolver states
  when /etc/resolv.conf changes.

  The patch in question was discussed on the eglibc mailing list.

      http://www.eglibc.org/archives/patches/msg00977.html

  It

      http://patch-tracker.debian.org/patch/series/view/eglibc/2.11.3-4/any/submitted-resolv.conf-thread.diff

  was present in Squeeze and was later included upstream.

interface-order
---------------
When changing this file, also change the patterns in bin/list-records.

normalize_stdin
---------------
When changing this function, also update it in debian/test-normalization.

awk
---
We mustn't use awk in any runtime code but we may use it in the
maintainer scripts where convenient.

piuparts
--------
* Reports:

    ERROR: FAIL: After purging files have been modified:
      /etc/resolv.conf	 not owned

  but this is not a bug, since resolvconf can justifiably modify
  that file, which isn't an ordinary configuration file.


Loop dangers
------------
Remember the interesting fact that postinst runs dpkg-event.d/foo
which probably runs /sbin/resolvconf which probably runs update.d/foo.


Things one tends to forget
--------------------------
Remember to run debconf-updatepo after changing a template or po file.


Famous quotations
-----------------
As Ian Jackson says (http://lists.debian.org/debian-dpkg/2008/03/msg00091.html)
> OH FOR FUCK'S SAKE WHAT DOES IT TAKE TO GET SOMETHING DONE AROUND HERE?


                     MAINTAINER NOTES
                     for resolvconf

TODO
----
* For Jessie (which has /run, which was introduced in Wheezy), simplify
  the maintainer scripts by stripping out code that is only there to deal
  with the possibility that /run is not yet available at preinst time.

* In Jessie (which allows an option to occur multiple times in a stanza)
  introduce a "dns-nameserver" option. Initially allow exactly one address
  as argument. Restricting to one address allows us to enhance the syntax
  later if necessary, through addition, for example, of modifier keywords.

* Add an Upstart job file obeying the dictates of policy §9.11.1.

* Add a Systemd unit file  obeying the dictates of policy §9.11.

* Remove the create-runtime-directories feature which was intended to ease
  maintenance when only one person was maintaining both the Debian and
  Ubuntu flavors of the package. Now that the Ubuntu package is maintained
  by the core team and makes no use of create-runtime-directories, the
  raison d'être for the feature has disappeared.

* File bug reports against all packages containing suppliers of nameserver
  information, asking each to add a resolvconf packaging-event hook script.

  To be submitted:
  * (nameservers:) pdns-recursor, totd
    + Easy to implement: just call initscript or add 127.0.0.1.
  * (DHCP clients:) isc-dhcp-client, dhcpcd, pump, udhcpc
    + Probably easiest and best to trigger DHCP lease renewals.

  Already submitted:
  * #628003, #641717 dnsmasq [both DONE]
  * #628846 pdnsd
  * #641714 bind9
  * #639803 network-manager

awk
---
We mustn't use awk in any runtime code but we may use it in the
maintainer scripts where convenient.

piuparts
--------
* Reports:

    ERROR: FAIL: After purging files have been modified:
      /etc/resolv.conf	 not owned

  but this is not a bug, since resolvconf can justifiably modify
  that file, which isn't an ordinary configuration file.


Things to remember
------------------
Remember to run debconf-updatepo after changing a template or po file.

When changing the interface-order file, remember also to change the
patterns in bin/list-records.

When changing the normalize_stdin function, remember also to update it
in debian/test-normalization.


Loop dangers
------------
Remember the interesting fact that postinst runs dpkg-event.d/foo
which probably runs /sbin/resolvconf which probably runs update.d/foo.


Famous quotations
-----------------
As Ian Jackson says (http://lists.debian.org/debian-dpkg/2008/03/msg00091.html)
> OH FOR FUCK'S SAKE WHAT DOES IT TAKE TO GET SOMETHING DONE AROUND HERE?

